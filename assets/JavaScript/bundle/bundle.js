!function(t){var e={};function y(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,y),s.l=!0,s.exports}y.m=t,y.c=e,y.d=function(t,e,n){y.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},y.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},y.t=function(t,e){if(1&e&&(t=y(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(y.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)y.d(n,s,function(e){return t[e]}.bind(null,s));return n},y.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return y.d(e,"a",e),e},y.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},y.p="",y(y.s=21)}([function(t,e){t.exports=class{constructor(){this.toggleImage=this.toggleImage.bind(this),this.activateTutorialImages(),this.activateDirections()}activateTutorialImages(){["falling","goal","move","transform"].forEach(t=>{let e=document.getElementById(`${t}-button`),y=document.getElementById(`${t}`);e.addEventListener("click",()=>{this.toggleImage(y)})})}activateDirections(){const t=document.getElementById("direct-button"),e=document.getElementById("direct");t.addEventListener("click",()=>{this.toggleDirections(e)})}toggleImage(t){"hidden"===t.className?t.className="show":t.className="hidden"}toggleDirections(t){"hidden"===t.className?t.className="display":t.className="hidden"}}},function(t,e){t.exports={floorDimensions:{xRange:15,yRange:10},warpData:{12.7:[[12,7],[2,1]]},activatorData:{8.9:[[1,6],[2,6],[0,2]],13.1:[[10,2],[11,2],[8,2],[8,3],[7,3]],14.3:[[14,6]]},floorData:[{x:4,y:8,type:"s"},{x:7,y:2,type:"g"},{x:0,y:2,type:"b",active:!1},{x:0,y:3,type:"n"},{x:0,y:4,type:"n"},{x:0,y:5,type:"n"},{x:0,y:6,type:"n"},{x:1,y:0,type:"n"},{x:1,y:1,type:"n"},{x:1,y:2,type:"n"},{x:1,y:6,type:"b",active:!1},{x:2,y:0,type:"n"},{x:2,y:1,type:"n"},{x:2,y:2,type:"n"},{x:2,y:6,type:"b",active:!1},{x:3,y:0,type:"n"},{x:3,y:1,type:"n"},{x:3,y:2,type:"n"},{x:3,y:6,type:"n"},{x:3,y:7,type:"n"},{x:3,y:8,type:"n"},{x:3,y:9,type:"n"},{x:4,y:6,type:"n"},{x:4,y:7,type:"n"},{x:4,y:9,type:"n"},{x:5,y:6,type:"n"},{x:5,y:7,type:"n"},{x:5,y:8,type:"n"},{x:5,y:9,type:"n"},{x:6,y:6,type:"c"},{x:6,y:7,type:"c"},{x:6,y:8,type:"c"},{x:6,y:9,type:"n"},{x:7,y:3,type:"b",active:!1},{x:7,y:4,type:"n"},{x:7,y:5,type:"c"},{x:7,y:6,type:"c"},{x:7,y:7,type:"c"},{x:7,y:8,type:"c"},{x:7,y:9,type:"n"},{x:8,y:2,type:"b",active:!1},{x:8,y:3,type:"b",active:!1},{x:8,y:4,type:"n"},{x:8,y:5,type:"c"},{x:8,y:6,type:"c"},{x:8,y:7,type:"c"},{x:8,y:8,type:"c"},{x:8,y:9,type:"a"},{x:9,y:2,type:"n"},{x:9,y:3,type:"n"},{x:9,y:4,type:"n"},{x:9,y:5,type:"c"},{x:9,y:6,type:"c"},{x:9,y:7,type:"c"},{x:9,y:8,type:"c"},{x:10,y:2,type:"b",active:!0},{x:10,y:6,type:"c"},{x:10,y:7,type:"c"},{x:10,y:8,type:"c"},{x:11,y:2,type:"b",active:!0},{x:11,y:6,type:"n"},{x:11,y:7,type:"n"},{x:11,y:8,type:"n"},{x:12,y:0,type:"n"},{x:12,y:1,type:"n"},{x:12,y:2,type:"n"},{x:12,y:3,type:"n"},{x:12,y:6,type:"n"},{x:12,y:7,type:"w"},{x:12,y:8,type:"n"},{x:13,y:0,type:"n"},{x:13,y:1,type:"a"},{x:13,y:2,type:"n"},{x:13,y:3,type:"n"},{x:13,y:6,type:"n"},{x:13,y:7,type:"n"},{x:13,y:8,type:"n"},{x:14,y:0,type:"n"},{x:14,y:1,type:"n"},{x:14,y:2,type:"n"},{x:14,y:3,type:"a"},{x:14,y:4,type:"n"},{x:14,y:5,type:"n"},{x:14,y:6,type:"b",active:!1}]}},function(t,e){t.exports={floorDimensions:{xRange:13,yRange:7},warpData:{9.5:[[0,1],[1,0]],1.2:[[1,2],[0,1]],2.1:[[0,1],[2,1]],.1:[[1,0],[2,1]],"1.0":[[5,1],[7,1]]},activatorData:{5.1:[[3,1],[4,1]],6.1:[[8,1],[9,1]]},floorData:[{x:11,y:1,type:"g"},{x:3,y:5,type:"s"},{x:0,y:1,type:"w"},{x:1,y:0,type:"w"},{x:1,y:1,type:"n"},{x:1,y:2,type:"w"},{x:2,y:1,type:"w"},{x:2,y:4,type:"n"},{x:2,y:5,type:"n"},{x:2,y:6,type:"n"},{x:3,y:1,type:"b",active:!1},{x:3,y:4,type:"n"},{x:3,y:6,type:"n"},{x:4,y:1,type:"b",active:!1},{x:4,y:4,type:"n"},{x:4,y:5,type:"n"},{x:4,y:6,type:"n"},{x:5,y:1,type:"a"},{x:5,y:5,type:"n"},{x:6,y:1,type:"a"},{x:6,y:5,type:"n"},{x:7,y:1,type:"n"},{x:7,y:5,type:"n"},{x:8,y:1,type:"b",active:!1},{x:8,y:4,type:"n"},{x:8,y:5,type:"n"},{x:8,y:6,type:"n"},{x:9,y:1,type:"b",active:!1},{x:9,y:4,type:"n"},{x:9,y:5,type:"w"},{x:9,y:6,type:"n"},{x:10,y:0,type:"n"},{x:10,y:1,type:"n"},{x:10,y:2,type:"n"},{x:10,y:4,type:"n"},{x:10,y:5,type:"n"},{x:10,y:6,type:"n"},{x:11,y:0,type:"n"},{x:11,y:2,type:"n"},{x:12,y:0,type:"n"},{x:12,y:1,type:"n"},{x:12,y:2,type:"n"}]}},function(t,e){t.exports={floorDimensions:{xRange:14,yRange:10},floorData:[{x:12,y:3,type:"s"},{x:7,y:4,type:"g"},{x:0,y:0,type:"n"},{x:0,y:1,type:"n"},{x:0,y:2,type:"n"},{x:0,y:3,type:"n"},{x:0,y:4,type:"n"},{x:0,y:5,type:"n"},{x:1,y:0,type:"n"},{x:1,y:1,type:"n"},{x:1,y:2,type:"n"},{x:1,y:3,type:"n"},{x:1,y:4,type:"n"},{x:1,y:5,type:"n"},{x:2,y:0,type:"n"},{x:2,y:3,type:"n"},{x:2,y:4,type:"n"},{x:2,y:5,type:"n"},{x:2,y:6,type:"n"},{x:2,y:7,type:"n"},{x:3,y:0,type:"c"},{x:3,y:4,type:"c"},{x:3,y:7,type:"n"},{x:3,y:8,type:"n"},{x:3,y:9,type:"n"},{x:4,y:0,type:"n"},{x:4,y:4,type:"c"},{x:4,y:7,type:"n"},{x:4,y:8,type:"n"},{x:4,y:9,type:"n"},{x:5,y:0,type:"n"},{x:5,y:4,type:"c"},{x:5,y:5,type:"c"},{x:5,y:6,type:"c"},{x:5,y:7,type:"c"},{x:5,y:8,type:"c"},{x:5,y:9,type:"n"},{x:6,y:0,type:"n"},{x:6,y:3,type:"n"},{x:6,y:4,type:"n"},{x:6,y:5,type:"n"},{x:6,y:6,type:"c"},{x:6,y:7,type:"c"},{x:6,y:8,type:"c"},{x:7,y:0,type:"n"},{x:7,y:3,type:"n"},{x:7,y:5,type:"n"},{x:7,y:6,type:"c"},{x:7,y:7,type:"n"},{x:7,y:8,type:"c"},{x:8,y:0,type:"c"},{x:8,y:3,type:"n"},{x:8,y:4,type:"n"},{x:8,y:5,type:"n"},{x:8,y:6,type:"c"},{x:8,y:7,type:"c"},{x:8,y:8,type:"c"},{x:8,y:9,type:"n"},{x:9,y:0,type:"n"},{x:9,y:6,type:"c"},{x:9,y:7,type:"c"},{x:9,y:8,type:"c"},{x:9,y:9,type:"n"},{x:10,y:0,type:"n"},{x:10,y:1,type:"n"},{x:10,y:6,type:"n"},{x:10,y:7,type:"c"},{x:10,y:8,type:"c"},{x:11,y:0,type:"n"},{x:11,y:1,type:"n"},{x:11,y:2,type:"n"},{x:11,y:3,type:"n"},{x:11,y:4,type:"n"},{x:11,y:5,type:"n"},{x:11,y:6,type:"n"},{x:12,y:0,type:"n"},{x:12,y:1,type:"n"},{x:12,y:2,type:"n"},{x:12,y:4,type:"n"},{x:13,y:2,type:"n"},{x:13,y:3,type:"n"},{x:13,y:4,type:"n"}]}},function(t,e){t.exports={floorDimensions:{xRange:16,yRange:10},activatorData:{9.1:[[5,1],[6,1]],6.5:[[8,5],[9,5],[5,8],[6,8]],14.6:[[5,8],[6,8]]},floorData:[{x:14,y:1,type:"s"},{x:1,y:8,type:"g"},{x:0,y:7,type:"n"},{x:0,y:8,type:"n"},{x:0,y:9,type:"n"},{x:1,y:1,type:"n"},{x:1,y:2,type:"n"},{x:1,y:3,type:"n"},{x:1,y:4,type:"n"},{x:1,y:7,type:"n"},{x:1,y:9,type:"n"},{x:2,y:1,type:"n"},{x:2,y:2,type:"n"},{x:2,y:3,type:"n"},{x:2,y:4,type:"n"},{x:2,y:7,type:"n"},{x:2,y:8,type:"n"},{x:2,y:9,type:"n"},{x:3,y:1,type:"n"},{x:3,y:2,type:"n"},{x:3,y:3,type:"n"},{x:3,y:4,type:"n"},{x:3,y:5,type:"n"},{x:3,y:8,type:"n"},{x:3,y:9,type:"n"},{x:4,y:1,type:"n"},{x:4,y:2,type:"n"},{x:4,y:3,type:"n"},{x:4,y:4,type:"n"},{x:4,y:5,type:"n"},{x:4,y:8,type:"n"},{x:5,y:1,type:"b",active:!1},{x:5,y:5,type:"n"},{x:5,y:8,type:"b",active:!0},{x:6,y:1,type:"b",active:!1},{x:6,y:5,type:"a"},{x:6,y:8,type:"b",active:!0},{x:7,y:1,type:"n"},{x:7,y:5,type:"n"},{x:7,y:8,type:"n"},{x:8,y:1,type:"n"},{x:8,y:5,type:"b",active:!1},{x:8,y:8,type:"n"},{x:9,y:1,type:"a"},{x:9,y:5,type:"b",active:!1},{x:9,y:8,type:"n"},{x:10,y:1,type:"n"},{x:10,y:5,type:"n"},{x:10,y:6,type:"n"},{x:10,y:7,type:"n"},{x:10,y:8,type:"n"},{x:11,y:1,type:"n"},{x:11,y:5,type:"n"},{x:11,y:6,type:"n"},{x:11,y:7,type:"n"},{x:11,y:8,type:"n"},{x:12,y:0,type:"n"},{x:12,y:1,type:"n"},{x:12,y:5,type:"n"},{x:12,y:6,type:"n"},{x:12,y:7,type:"n"},{x:12,y:8,type:"n"},{x:13,y:0,type:"n"},{x:13,y:1,type:"n"},{x:13,y:2,type:"n"},{x:13,y:6,type:"n"},{x:13,y:7,type:"n"},{x:14,y:0,type:"n"},{x:14,y:2,type:"n"},{x:14,y:6,type:"a"},{x:14,y:7,type:"n"},{x:15,y:0,type:"n"},{x:15,y:1,type:"n"},{x:15,y:2,type:"n"}]}},function(t,e){t.exports={floorDimensions:{xRange:14,yRange:9},warpData:{6.2:[[9,2],[11,2]]},floorData:[{x:1,y:5,type:"s"},{x:12,y:7,type:"g"},{x:0,y:2,type:"n"},{x:0,y:3,type:"n"},{x:0,y:4,type:"n"},{x:0,y:5,type:"n"},{x:0,y:6,type:"n"},{x:1,y:2,type:"n"},{x:1,y:3,type:"n"},{x:1,y:4,type:"n"},{x:1,y:6,type:"n"},{x:2,y:2,type:"n"},{x:2,y:3,type:"n"},{x:2,y:4,type:"n"},{x:2,y:5,type:"n"},{x:2,y:6,type:"n"},{x:3,y:0,type:"c"},{x:3,y:1,type:"c"},{x:3,y:2,type:"n"},{x:4,y:0,type:"c"},{x:4,y:1,type:"c"},{x:5,y:0,type:"c"},{x:5,y:1,type:"c"},{x:5,y:5,type:"n"},{x:5,y:6,type:"n"},{x:5,y:7,type:"n"},{x:5,y:8,type:"n"},{x:6,y:0,type:"c"},{x:6,y:1,type:"c"},{x:6,y:2,type:"w"},{x:6,y:5,type:"n"},{x:6,y:6,type:"n"},{x:6,y:7,type:"n"},{x:6,y:8,type:"n"},{x:7,y:5,type:"n"},{x:7,y:6,type:"n"},{x:7,y:7,type:"n"},{x:7,y:8,type:"n"},{x:8,y:5,type:"n"},{x:8,y:6,type:"n"},{x:9,y:2,type:"n"},{x:9,y:5,type:"c"},{x:9,y:6,type:"c"},{x:10,y:2,type:"n"},{x:10,y:3,type:"n"},{x:10,y:4,type:"n"},{x:10,y:5,type:"c"},{x:10,y:6,type:"c"},{x:10,y:7,type:"c"},{x:10,y:8,type:"c"},{x:11,y:2,type:"n"},{x:11,y:3,type:"n"},{x:11,y:4,type:"n"},{x:11,y:5,type:"c"},{x:11,y:6,type:"c"},{x:11,y:7,type:"c"},{x:11,y:8,type:"c"},{x:12,y:5,type:"n"},{x:12,y:6,type:"n"},{x:12,y:8,type:"n"},{x:13,y:5,type:"n"},{x:13,y:6,type:"n"},{x:13,y:7,type:"n"},{x:13,y:8,type:"n"}]}},function(t,e){t.exports={floorDimensions:{xRange:14,yRange:10},floorData:[{x:0,y:6,type:"s"},{x:13,y:5,type:"g"},{x:1,y:6,type:"n"},{x:2,y:6,type:"n"},{x:3,y:6,type:"n"},{x:4,y:6,type:"n"},{x:4,y:5,type:"n"},{x:4,y:4,type:"n"},{x:5,y:9,type:"n"},{x:5,y:8,type:"n"},{x:5,y:7,type:"n"},{x:5,y:6,type:"n"},{x:5,y:5,type:"n"},{x:5,y:4,type:"n"},{x:6,y:9,type:"n"},{x:6,y:5,type:"n"},{x:6,y:4,type:"n"},{x:6,y:3,type:"n"},{x:6,y:2,type:"n"},{x:6,y:1,type:"n"},{x:7,y:9,type:"n"},{x:7,y:2,type:"n"},{x:7,y:1,type:"n"},{x:7,y:0,type:"n"},{x:8,y:9,type:"n"},{x:8,y:8,type:"n"},{x:8,y:7,type:"n"},{x:8,y:2,type:"n"},{x:8,y:1,type:"n"},{x:8,y:0,type:"n"},{x:9,y:9,type:"n"},{x:9,y:8,type:"n"},{x:9,y:7,type:"n"},{x:9,y:3,type:"n"},{x:9,y:2,type:"n"},{x:9,y:1,type:"n"},{x:9,y:0,type:"n"},{x:10,y:9,type:"n"},{x:10,y:8,type:"n"},{x:10,y:7,type:"n"},{x:10,y:3,type:"n"},{x:10,y:2,type:"n"},{x:10,y:1,type:"n"},{x:11,y:7,type:"n"},{x:11,y:6,type:"n"},{x:11,y:5,type:"n"},{x:12,y:7,type:"n"},{x:12,y:6,type:"n"},{x:12,y:5,type:"n"},{x:13,y:6,type:"n"}]}},function(t,e){t.exports={floorDimensions:{xRange:15,yRange:6},floorData:[{x:1,y:2,type:"s"},{x:13,y:2,type:"g"},{x:0,y:4,type:"n"},{x:0,y:3,type:"n"},{x:0,y:2,type:"n"},{x:0,y:1,type:"n"},{x:1,y:4,type:"n"},{x:1,y:3,type:"n"},{x:1,y:1,type:"n"},{x:2,y:4,type:"n"},{x:2,y:3,type:"n"},{x:2,y:2,type:"n"},{x:2,y:1,type:"n"},{x:3,y:4,type:"n"},{x:3,y:3,type:"n"},{x:3,y:2,type:"n"},{x:3,y:1,type:"n"},{x:4,y:3,type:"n"},{x:5,y:3,type:"n"},{x:6,y:5,type:"n"},{x:6,y:4,type:"n"},{x:6,y:3,type:"n"},{x:7,y:5,type:"n"},{x:7,y:4,type:"n"},{x:7,y:3,type:"n"},{x:8,y:5,type:"n"},{x:8,y:4,type:"n"},{x:8,y:3,type:"n"},{x:9,y:5,type:"n"},{x:10,y:5,type:"n"},{x:11,y:5,type:"n"},{x:11,y:4,type:"n"},{x:11,y:3,type:"n"},{x:11,y:2,type:"n"},{x:11,y:1,type:"n"},{x:12,y:5,type:"n"},{x:12,y:4,type:"n"},{x:12,y:3,type:"n"},{x:12,y:2,type:"n"},{x:12,y:1,type:"n"},{x:12,y:0,type:"n"},{x:13,y:3,type:"n"},{x:13,y:1,type:"n"},{x:13,y:0,type:"n"},{x:14,y:3,type:"n"},{x:14,y:2,type:"n"},{x:14,y:1,type:"n"},{x:14,y:0,type:"n"}]}},function(t,e){t.exports={floorDimensions:{xRange:10,yRange:6},floorData:[{x:1,y:1,type:"s"},{x:7,y:4,type:"g"},{x:0,y:0,type:"n"},{x:0,y:1,type:"n"},{x:0,y:2,type:"n"},{x:1,y:0,type:"n"},{x:1,y:2,type:"n"},{x:1,y:3,type:"n"},{x:2,y:0,type:"n"},{x:2,y:1,type:"n"},{x:2,y:2,type:"n"},{x:2,y:3,type:"n"},{x:3,y:1,type:"n"},{x:3,y:2,type:"n"},{x:3,y:3,type:"n"},{x:4,y:1,type:"n"},{x:4,y:2,type:"n"},{x:4,y:3,type:"n"},{x:5,y:1,type:"n"},{x:5,y:2,type:"n"},{x:5,y:3,type:"n"},{x:5,y:4,type:"n"},{x:6,y:2,type:"n"},{x:6,y:3,type:"n"},{x:6,y:4,type:"n"},{x:6,y:5,type:"n"},{x:7,y:2,type:"n"},{x:7,y:3,type:"n"},{x:7,y:5,type:"n"},{x:8,y:2,type:"n"},{x:8,y:3,type:"n"},{x:8,y:4,type:"n"},{x:8,y:5,type:"n"},{x:9,y:3,type:"n"},{x:9,y:4,type:"n"}]}},function(t,e){t.exports={floorDimensions:{xRange:10,yRange:1},floorData:[{x:0,y:0,type:"s"},{x:9,y:0,type:"g"},{x:1,y:0,type:"n"},{x:2,y:0,type:"n"},{x:3,y:0,type:"n"},{x:4,y:0,type:"n"},{x:5,y:0,type:"n"},{x:6,y:0,type:"n"},{x:7,y:0,type:"n"},{x:8,y:0,type:"n"}]}},function(t,e){t.exports={floorDimensions:{xRange:5,yRange:5},floorData:[{x:0,y:0,type:"s"},{x:2,y:2,type:"g"},{x:0,y:1,type:"n"},{x:0,y:2,type:"n"},{x:0,y:3,type:"n"},{x:0,y:4,type:"n"},{x:1,y:0,type:"n"},{x:1,y:1,type:"n"},{x:1,y:2,type:"n"},{x:1,y:3,type:"n"},{x:1,y:4,type:"n"},{x:2,y:0,type:"n"},{x:2,y:1,type:"n"},{x:2,y:3,type:"n"},{x:2,y:4,type:"n"},{x:3,y:0,type:"n"},{x:3,y:1,type:"n"},{x:3,y:2,type:"n"},{x:3,y:3,type:"n"},{x:3,y:4,type:"n"},{x:4,y:0,type:"n"},{x:4,y:1,type:"n"},{x:4,y:2,type:"n"},{x:4,y:3,type:"n"},{x:4,y:4,type:"n"}]}},function(t,e,y){const n=y(10),s=y(9),i=y(8),o=y(7),p=y(6);y(5),y(4),y(3),y(2),y(1);t.exports={tutorial:n,1:s,2:i,3:o,4:p}},function(t,e){t.exports=class{constructor(){this.rectangleSound=document.getElementById("block-rectangle"),this.squareSound=document.getElementById("block-square"),this.fallSound=document.getElementById("fall"),this.completeLevelSound=document.getElementById("complete-level"),this.warpSound=document.getElementById("warp"),this.bridgeUpSound=document.getElementById("bridge-up"),this.bridgeDownSound=document.getElementById("bridge-down"),this.gameMusic=document.getElementById("game-song"),this.menuMusic=document.getElementById("menu-song"),this.toggleMusic=this.toggleMusic.bind(this)}start(){this.musicButton=document.getElementById("music"),this.musicButton.addEventListener("click",this.toggleMusic),this.playMusic=!0,this.gameMusic.loop=!0,this.gameMusic.play()}toggleMusic(){!0===this.playMusic?this.pausMusic():this.resumeMusic()}pausMusic(){this.playMusic=!1,this.musicButton.className="off",this.gameMusic.pause()}resumeMusic(){this.playMusic=!0,this.musicButton.className="on",this.gameMusic.play()}playBlockSound(t){t.height===t.width?this.squareSound.play():this.rectangleSound.play()}playBridgeSound(t){t.active?this.bridgeUpSound.play():this.bridgeDownSound.play()}playFallSound(){this.fallSound.play()}playGoalSound(){this.completeLevelSound.play()}playWarpSound(){this.warpSound.play()}}},function(t,y){t.exports=class{constructor(t){this.blockSize="medium",this.canvas=document.getElementById("blockhead"),this.context=t}activateMenu(){this.canvas.addEventListenenr("click",this.startGame),this.canvas.addEventListener("click",this.beginTutorial),this.canvas.addEventListener("click",this.alterOptions)}startGame(t){t.preventDefault()}beginTutorial(t){t.preventDefault(t)}alterBlockSize(){e.preventDefault(e)}}},function(t,e){t.exports=class{constructor(t){this.xPos=t.x,this.yPos=t.y,this.type=this.typeReference(t.type),this.active=this.checkActiveStatus(t.active)}typeReference(t){switch(t){case"n":return"none";case"s":return"start";case"g":return"goal";case"c":return"collapsible";case"w":return"warp";case"a":return"activator";case"b":return"bridge"}}checkActiveStatus(t){return void 0===t||t}toggleActive(){"bridge"===this.type&&(this.active=!this.active)}}},function(t,e,y){const n=y(14);t.exports=class{constructor(t,e){this.currentLevel=1,this.length=t,this.levelData=e,this.constructTileCoordinates=this.constructTileCoordinates.bind(this)}nextLevel(){this.currentLevel+=1}resetCurrentLevel(){this.currentLevel=1}constructFloor(){this.constructedFloor=this.generateLevel(),this.currentStartPosition=this.getStart(this.constructedFloor)}getStart(t){for(var e in t){let y=t[e];if("start"===y.type)return{xPos:y.xPos,yPos:y.yPos}}}generateLevel(){const t=this.levelData[this.currentLevel],e=this.centerFloor(t.floorDimensions);return this.setCoordinates(t.floorData,e)}centerFloor(t){const e=t.xRange*this.length,y=t.yRange*this.length;return{xPos:Math.floor((900-e)/2),yPos:Math.floor((500-y)/2)}}setCoordinates(t,e){const y={};return t.forEach(t=>{let s=this.constructTileCoordinates(t,e),i=new n(s),o=`[${i.xPos}, ${i.yPos}]`;y[o]=i}),y}constructTileCoordinates(t,e){return{x:e.xPos+this.length*t.x,y:e.yPos+this.length*t.y,type:t.type,active:t.active}}lookupTile(t){const e=`[${t.xPos}, ${t.yPos}]`;return this.constructedFloor[e]}}},function(t,e){t.exports=class{constructor(){this.gameTimeSeconds=0}upTick(){this.gameTimeSeconds+=1}currentTime(){const t=this.gameTimeSeconds,e=t%60;return{minutes:Math.floor(t/60)%60,seconds:e}}}},function(t,e,y){const n=y(16);t.exports=class{constructor(t,e){this.clock=new n,this.ctx=t,this.length=e,this.colors=this.colors(),this.fonts=this.fonts(),this.ctx.fillStyle=this.colors.backgroundColor,this.ctx.fillRect(0,0,900,500),this.drawTime=this.drawTime.bind(this)}colors(){return{backgroundColor:"rgb(25, 25, 25)",textColor:"rgb(255, 255, 255)",blockColor:"rgb(200, 0, 255)",blockFallingColor:"rgb(255, 0, 0)",tileColors:{start:"rgb(0, 255, 255)",goal:"rgb(0, 255, 0)",none:"rgb(192, 192, 192)",collapsible:"rgb(255, 128, 0)",warp:"rgb(255, 255, 0)",activator:"rgb(255, 255, 255)",bridge:"rgb(128, 0, 0)"}}}fonts(){return{mediumFontSize:"30px sans-serif",largeFontSize:"50px sans-serif"}}render(t){this.ctx.fillStyle=this.colors.backgroundColor,this.ctx.fillRect(0,0,900,450),this.ctx.fillRect(0,450,700,50),this.ctx.font=this.fonts.mediumFontSize,this.ctx.fillStyle=this.colors.textColor,this.ctx.fillText(`Level ${t.levelNumber}`,25,50),this.ctx.fillText(`Moves: ${t.moves}`,700,50),this.ctx.fillText(`Falls: ${t.falls}`,25,475),this.drawFloor(t.level)}drawFloor(t){for(var e in t){let y=t[e];this.ctx.fillStyle=this.colors.tileColors[y.type];const{xPos:n,yPos:s}=y;this.ctx.fillRect(n,s,this.length,this.length),this.ctx.strokeRect(n,s,this.length,this.length)}}drawMenu(){this.ctx.font=this.fonts.largeFontSize,this.ctx.fillStyle=this.colors.textColor,this.ctx.fillText("Blockhead",400,200),this.ctx.font=this.fonts.mediumFontSize,this.ctx.fillStyle="red",this.ctx.fillText("Options (coming soon!)",350,300),this.ctx.fillText("Tutorial (coming soon!)",350,350),this.ctx.fillStyle=this.colors.textColor,this.ctx.fillText("Start",300,250)}stringifyTime(){const{minutes:t,seconds:e}=this.clock.currentTime();return`${t<10?`0${t}`:t}:${e<10?`0${e}`:e}`}drawTime(){const t=this.stringifyTime();this.ctx.fillStyle=this.colors.backgroundColor,this.ctx.fillRect(200,450,900,50),this.ctx.font=this.fonts.mediumFontSize,this.ctx.fillStyle=this.colors.textColor,this.ctx.fillText(t,700,475),this.clock.upTick()}drawBlock(t){const{xPos:e,yPos:y,width:n,height:s}=t;this.ctx.fillStyle=this.colors.blockColor,this.ctx.fillRect(e,y,n,s),this.ctx.strokeRect(e,y,n,s)}stringifyRGBData(t){return"rgb(".concat(t[0]).concat(", ").concat(t[1]).concat(", ").concat(t[2]).concat(")")}tileMovesOffFloor(t){for(let e=0;e<t.length;e++){let y=t[e],n=this.ctx.getImageData(y[0],y[1],1,1).data.slice(0,3);if(this.stringifyRGBData(n)===this.colors.backgroundColor)return!0}return!1}drawPause(){this.ctx.fillStyle=this.colors.backgroundColor,this.ctx.fillRect(0,0,900,500),this.ctx.font=this.fonts.largeFontSize,this.ctx.fillStyle=this.colors.textColor,this.ctx.fillText("Pause",400,200),this.ctx.font=this.fonts.mediumFontSize,this.ctx.fillText("(Press enter to resume)",300,300)}drawFail(t){const{xPos:e,yPos:y,width:n,height:s}=t;this.ctx.fillStyle=this.colors.blockFallingColor,this.ctx.fillRect(e,y,n,s)}drawFinish(t){this.ctx.fillStyle=this.colors.backgroundColor,this.ctx.fillRect(0,0,900,500),this.ctx.font=this.fonts.largeFontSize,this.ctx.fillStyle=this.colors.textColor,this.ctx.fillText("Final Tally:",50,100),this.ctx.font=this.fonts.mediumFontSize,this.ctx.fillText(`Moves: ${t.moves}`,70,155),this.ctx.fillText(`Falls: ${t.falls}`,70,190),this.ctx.fillText(`Time: ${t.time}`,70,225),this.ctx.fillText("Press spacebar to start over",50,400)}}},function(t,e){t.exports=class{constructor(){this.pauseStatus=!1}restartGame(t,e){32===t.keyCode&&(t.preventDefault(),e.levels.resetCurrentLevel(),e.start(),document.removeEventListener("keydown",e.restart))}getMove(t,e){switch(t.preventDefault(),t.keyCode){case 40:e.transformBlock(0,1);break;case 38:e.transformBlock(0,-1);break;case 37:e.transformBlock(-1,0);break;case 39:e.transformBlock(1,0)}}pauseButton(t,e){13===t.keyCode&&(t.preventDefault(),this.pauseStatus=!this.pauseStatus,!0===this.pauseStatus?this.pauseGame(e):this.resumeGame(e))}pauseGame(t){clearInterval(t.timerId),document.removeEventListener("keydown",t.move),t.display.drawPause()}resumeGame(t){t.display.render(t.displayOptions()),t.display.drawBlock(t.block),document.addEventListener("keydown",t.move),t.timerId=setInterval(t.display.drawTime,1e3)}}},function(t,e){t.exports=class{constructor(t,e){this.length=t,this.width=e.width,this.height=e.height}dimensions(){return{width:this.width,height:this.height}}position(){return{xPos:this.xPos,yPos:this.yPos}}properties(){return{xPos:this.xPos,yPos:this.yPos,width:this.width,height:this.height}}setPosition(t){this.xPos=t.xPos,this.yPos=t.yPos}resetBlock(t){this.width=this.length,this.height=this.length,this.xPos=t.xPos,this.yPos=t.yPos}changePosition(t,e){this.xPos+=t*this.length,this.yPos+=e*this.length}transformBlock(t,e){this.width===this.height?this.expand(t,e):this.checkDimensionsAndMovement(t,e)}expand(t,e){0!==t?this.expandWidth(t,e):this.expandHeight(t,e)}checkDimensionsAndMovement(t,e){this.width>this.height&&0!==t?this.contractWidth(t,e):this.width<this.height&&0!==e?this.contractHeight(t,e):this.changePosition(t,e)}expandWidth(t,e){this.width*=2,t>0?this.changePosition(t,e):this.changePosition(2*t,e)}expandHeight(t,e){this.height*=2,e>0?this.changePosition(t,e):this.changePosition(t,2*e)}contractWidth(t,e){this.width/=2,t>0?this.changePosition(2*t,e):this.changePosition(t,e)}contractHeight(t,e){this.height/=2,e>0?this.changePosition(t,2*e):this.changePosition(t,e)}}},function(t,e,y){const n=y(19),s=y(18),i=y(17),o=y(15),p=(y(13),y(12)),x=y(11);t.exports=class{constructor(t,e){this.display=new i(t,e),this.levels=new o(e,x),this.block=new n(e,{width:e,height:e}),this.sound=new p,this.controls=new s,this.move=this.move.bind(this),this.pause=this.pause.bind(this),this.restart=this.restart.bind(this)}start(){this.moves=0,this.falls=0,this.sound.start(),this.levels.constructFloor(),this.block.setPosition(this.levels.currentStartPosition),this.timerId=setInterval(this.display.drawTime,1e3),document.addEventListener("keydown",this.move),document.addEventListener("keydown",this.pause),this.display.render(this.displayOptions()),this.display.drawBlock(this.block)}restart(t){this.controls.restartGame(t,this)}move(t){[37,38,39,40].includes(t.keyCode)&&(this.controls.getMove(t,this.block),this.moves+=1,this.checkBlock())}pause(t){this.controls.pauseButton(t,this)}displayOptions(){return{level:this.levels.constructedFloor,levelNumber:this.levels.currentLevel,moves:this.moves,falls:this.falls}}checkBlock(){this.block.width===this.block.height&&this.checkGoal();const{levelData:t,currentLevel:e}=this.levels;void 0!==t[e]&&this.checkBounds()}checkGoal(){const t=this.levels.lookupTile(this.block.position());void 0!==t&&"goal"===t.type&&this.nextLevel()}nextLevel(){this.sound.playGoalSound(),this.levels.nextLevel();const{levelData:t,currentLevel:e}=this.levels;void 0===t[e]?this.endGame():(this.levels.constructFloor(),this.block.setPosition(this.levels.currentStartPosition),this.display.render(this.displayOptions()),this.display.drawBlock(this.block))}endGame(){document.removeEventListener("keydown",this.move),document.removeEventListener("keydown",this.pause),clearInterval(this.timerId),this.display.drawFinish(this.displayOptions()),document.addEventListener("keydown",this.restart)}checkBounds(){const{currentLevel:t,levelData:e}=this.levels,y=this.getCoordinates();this.display.tileMovesOffFloor(y)?this.resetLevel():void 0!==e[t]&&(this.display.render(this.displayOptions()),this.display.drawBlock(this.block),this.sound.playBlockSound(this.block))}getCoordinates(){const{xPos:t,yPos:e}=this.block.position(),{width:y,height:n}=this.block.dimensions();return[[t+Math.floor(y/4),e+Math.floor(n/4)],[t+Math.floor(3*y/4),e+Math.floor(3*n/4)]]}resetLevel(){document.removeEventListener("keydown",this.move),this.falls+=1,this.flashFailure()}flashFailure(){this.display.render(this.displayOptions()),this.display.drawFail(this.block.properties()),this.sound.playFallSound(),this.block.resetBlock(this.levels.currentStartPosition),setTimeout(()=>{this.display.render(this.displayOptions()),this.display.drawBlock(this.block),document.addEventListener("keydown",this.move)},800)}}},function(t,e,y){const n=y(20),s=y(0);document.addEventListener("DOMContentLoaded",()=>{new s;const t=document.getElementById("blockhead"),e=t.getContext("2d");t.width=900,t.height=500,new n(e,30).start()})}]);
//# sourceMappingURL=bundle.js.map